(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],u=0,f=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(n=!1)}n&&(r.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},s={app:0},i={app:0},r=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2ad14c4a":"e188db14","chunk-5804f070":"d80e9a1e","chunk-8f0bb992":"be06ff20"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-2ad14c4a":1,"chunk-5804f070":1,"chunk-8f0bb992":1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-2ad14c4a":"8fa27277","chunk-5804f070":"bdaddfc8","chunk-8f0bb992":"2a012898"}[t]+".css",i=c.p+n,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var l=r[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===i))return e()}var f=document.getElementsByTagName("style");for(o=0;o<f.length;o++){l=f[o],u=l.getAttribute("data-href");if(u===n||u===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete s[t],d.parentNode.removeChild(d),a(r)},d.href=i;var v=document.getElementsByTagName("head")[0];v.appendChild(d)})).then((function(){s[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,a){n=i[t]=[e,a]}));e.push(n[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var f=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(d);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",f.name="ChunkLoadError",f.type=n,f.request=s,a[1](f)}i[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var f=0;f<l.length;f++)e(l[f]);var d=u;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=a("3f08"),i=a("f309");n["a"].use(i["a"]);var r=new i["a"]({});a("99af"),a("4de4"),a("d3b7"),a("25f0"),a("4d90");n["a"].filter("time",(function(t){return t.toString().padStart(2,0)})),n["a"].filter("timeformat",(function(t){return"".concat(t.getHours().toString().padStart(2,0),":").concat(t.getMinutes().toString().padStart(2,0))})),n["a"].filter("dateformat",(function(t){return"".concat((t.getMonth()+1).toString().padStart(2,0),"/").concat(t.getDate().toString().padStart(2,0))}));var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-app",[a("twitchPlayer"),a("v-container",{staticClass:"mb-4"},[a("audio",{attrs:{id:"BaoAlert"}},[a("source",{attrs:{src:"https://raw.githubusercontent.com/runtogether-tw/gdq/gh-pages/sound/"+t.alertselect+".mp3",type:"audio/mpeg"}})]),a("v-tabs",{attrs:{"icons-and-text":"",centered:"",dark:"","background-color":"teal","show-arrows":"","prev-icon":"fas fa-arrow-circle-left","next-icon":"fas fa-arrow-circle-right"}},[a("v-tabs-slider",{attrs:{color:"teal lighten-5"}}),a("v-tab",{attrs:{href:"#menu-1"}},[t._v(" Next "),a("v-icon",[t._v("fas fa-gamepad")])],1),a("v-tab",{attrs:{disabled:!t.isLatestEvent,href:"#menu-2"}},[t._v(" Notification "),a("v-icon",[t._v("fas fa-bell")])],1),a("v-tab",{attrs:{href:"#menu-3"}},[t._v(" Info "),a("v-icon",[t._v("fas fa-info-circle")])],1),a("v-tab-item",{attrs:{value:"menu-1"}},[a("v-card",{staticClass:"cardbg pa-2",attrs:{flat:""}},[t.loading?t._e():a("v-layout",{class:{column:t.$vuetify.breakpoint.xsOnly},attrs:{wrap:"","justify-space-around":"","align-center":""}},[a("v-flex",{class:{"mb-2":t.$vuetify.breakpoint.xsOnly},attrs:{xs5:"",sm4:"",md3:""}},[a("v-card",{class:{layout:t.$vuetify.breakpoint.xsOnly}},[a("v-img",{staticClass:"card__pic",attrs:{src:t.getPic(t.sdList[t.nowplaying].name)}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-start":"",flexbox:""}},[a("span",{staticClass:"card__title headline white--text"},[t._v("Now Playing")])])],1)],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"twolines",attrs:{xs12:""}},[t._v(t._s(t.sdList[t.nowplaying].name))]),a("v-flex",{attrs:{xs12:""}},[t._v(t._s(t.sdList[t.nowplaying].tw.tw)),""!=t.sdList[t.nowplaying].tw.sr?a("a",{attrs:{"aria-label":"Speedrun.com",href:"https://www.speedrun.com/"+t.sdList[t.nowplaying].tw.sr,target:"_blank"}},[a("span"),a("v-icon",[t._v("fas fa-trophy")])],1):t._e()]),a("v-flex",{staticClass:"grey--text time--small",attrs:{xs12:""}},[t._v(" 準備時間: "+t._s(t.sdList[t.nowplaying].setup_time)+" ")]),a("v-flex",{staticClass:"grey--text time--small",attrs:{xs12:""}},[t._v(" 預計時間: "+t._s(t.sdList[t.nowplaying].run_time)+" ")])],1)],1)],1)],1),a("v-flex",{attrs:{sm3:"","hidden-xs-only":""}},[a("v-card",[a("v-img",{staticClass:"card__pic",attrs:{src:t.twJSON["logo"]}}),a("v-card-title",{attrs:{"primary-title":"","pa-3":""}},[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"grey--text",attrs:{xs12:""}},[t._v("現在時間")]),a("v-flex",{staticClass:"headline",attrs:{xs12:""}},[t._v(" "+t._s(t._f("timeformat")(t.nowdate))+" ")]),a("v-flex",{attrs:{xs12:""}},[t._v(t._s(t._f("dateformat")(t.nowdate)))])],1)],1)],1)],1),a("v-flex",{class:{"mb-2":t.$vuetify.breakpoint.xsOnly},attrs:{xs5:"",sm4:"",md3:""}},[t.nowplaying+1<=t.sdList.length-1?a("v-card",{class:{layout:t.$vuetify.breakpoint.xsOnly}},[a("v-img",{staticClass:"card__pic",attrs:{src:t.getPic(t.sdList[t.nowplaying+1].name)}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-layout",{attrs:{"fill-height":""}},[a("v-flex",{attrs:{xs12:"","align-start":"",flexbox:""}},[a("span",{staticClass:"card__title headline white--text"},[t._v("UP Next")])])],1)],1)],1),a("v-card-title",{attrs:{"primary-title":""}},[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[a("v-flex",{staticClass:"twolines",attrs:{xs12:""}},[t._v(t._s(t.sdList[t.nowplaying+1].name))]),a("v-flex",{attrs:{xs12:""}},[t._v(t._s(t.sdList[t.nowplaying+1].tw.tw)),""!=t.sdList[t.nowplaying+1].tw.sr?a("a",{attrs:{"aria-label":"Speedrun.com",href:"https://www.speedrun.com/"+t.sdList[t.nowplaying+1].tw.sr,target:"_blank"}},[a("span"),a("v-icon",[t._v("fas fa-trophy")])],1):t._e()]),a("v-flex",{staticClass:"grey--text time--small",attrs:{xs12:""}},[t._v(" 準備時間: "+t._s(t.sdList[t.nowplaying+1].setup_time)+" ")]),a("v-flex",{staticClass:"grey--text time--small",attrs:{xs12:""}},[t._v(" 開始時間: "+t._s(t._f("dateformat")(t.sdList[t.nowplaying+1].starttime))+" "+t._s(t._f("timeformat")(t.sdList[t.nowplaying+1].starttime))+" ")])],1)],1)],1):t._e()],1)],1),a("v-layout",{attrs:{"justify-center":"","align-center":"","mt-3":""}},[a("v-flex",{attrs:{xs5:""}},[a("v-select",{ref:"eventSelect",attrs:{items:t.eventItem,label:"活動選擇","item-text":"text","item-value":"id","append-icon":"fas fa-sort-down"},model:{value:t.eventID,callback:function(e){t.eventID=e},expression:"eventID"}})],1),a("v-btn",{attrs:{color:"teal",title:"重新整理資訊"},on:{click:function(e){return t.refresh()}}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-sync-alt")])],1)],1)],1)],1),a("v-tab-item",{attrs:{value:"menu-2"}},[a("v-card",{staticClass:"cardbg pa-2",attrs:{flat:""}},[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},[a("v-flex",{attrs:{xs12:""}},[0===t.notification.length?a("div",[t._v("你可以點擊節目表上的鬧鐘按鈕來加入提醒清單，我們將在節目開始時提醒您。")]):t._e(),a("div",[t._v("請依照自己喜好調整通知系統強度。")]),a("div",[t._v("使用提醒功能時，建議將此頁面獨立成一個視窗，放置於背景分頁會因為瀏覽器節省資源而不播放背景音效。")])]),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{href:"https://github.com/runtogether-tw/ical/blob/master/README.md#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95",target:"_blank"}},[t._v("匯入Google日曆教學")])],1),a("v-flex",{attrs:{xs4:""}},[a("v-select",{staticClass:"input-group--focused",attrs:{items:t.alertitem,label:"提醒強度","item-text":"state","item-value":"alerttext","append-icon":"fas fa-sort-down"},model:{value:t.alertselect,callback:function(e){t.alertselect=e},expression:"alertselect"}})],1),t.sysNotiSupport?a("v-flex",{attrs:{xs4:""}},[a("v-switch",{attrs:{label:"啟用系統桌面通知"},model:{value:t.sysNoti,callback:function(e){t.sysNoti=e},expression:"sysNoti"}})],1):t._e(),a("v-flex",{attrs:{xs12:""}},[a("div",[t._v("- 提醒清單 -")])])],1),t.loading?t._e():t._l(t.notification,(function(e){return a("v-layout",{key:e,staticClass:"slayout",class:{end:t.sdList[e].starttime.getTime()<t.nowdate.getTime()},attrs:{wrap:""}},[a("v-flex",{staticClass:"sbl",attrs:{xs1:""}},[a("div",[t._v(t._s(t._f("dateformat")(t.sdList[e].starttime)))])]),a("v-flex",{staticClass:"sbl",attrs:{xs1:""}},[a("div",[t._v(t._s(t._f("timeformat")(t.sdList[e].starttime)))])]),a("v-flex",{staticClass:"sbl",attrs:{xs4:""}},[a("div",[t._v(t._s(t.sdList[e].name))])]),a("v-flex",{staticClass:"sbl",attrs:{xs4:""}},[a("div",[t._v(t._s(t.sdList[e].runners))])]),a("v-flex",{staticClass:"sbl slast",attrs:{xs2:""}},[a("div",[t._v(t._s(t.sdList[e].category))])]),a("v-flex",{staticClass:"sbl",attrs:{xs1:""}},[a("div",[t._v(t._s(t.sdList[e].console))])]),a("v-flex",{staticClass:"sbl",attrs:{xs4:""}},[a("div",[t._v(t._s(t.sdList[e].tw.tw))]),""!=t.sdList[e].tw.sr?a("a",{attrs:{href:"https://www.speedrun.com/"+t.sdList[e].tw.sr,target:"_blank"}},[a("span"),a("v-icon",[t._v("fas fa-trophy")])],1):t._e()]),a("v-flex",{staticClass:"sbl",attrs:{"align-center":"",xs5:""}},[a("div")]),a("v-flex",{staticClass:"sbl slast",attrs:{xs2:""}},[a("v-btn",{attrs:{color:"pink darken-3"},on:{click:function(a){return t.DeleteNotification(e)}}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("far fa-bell-slash")])],1)],1)],1)}))],2)],1),a("v-tab-item",{attrs:{value:"menu-3"}},[a("v-card",{staticClass:"cardbg pa-2",attrs:{flat:""}},[a("v-flex",{attrs:{xs12:""}},[t._v("彩學台:")]),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{title:"Twitch頻道",color:"teal",href:"https://www.twitch.tv/tetristhegrandmaster3",target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fab fa-twitch")])],1),t.twJSON["google_link"]?a("v-btn",{attrs:{title:"Google節目表單",color:"teal",href:t.twJSON["google_link"],target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-th-list")])],1):t._e()],1),a("v-flex",{attrs:{xs12:""}},[t._v("GDQ官方:")]),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{title:"Twitch頻道",color:"teal",href:"https://www.twitch.tv/gamesdonequick",target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fab fa-twitch")])],1),a("v-btn",{attrs:{color:"teal",title:"Youtube頻道",href:"https://www.youtube.com/user/gamesdonequick/videos",target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fab fa-youtube")])],1),a("v-btn",{attrs:{title:"官方網站",color:"teal",href:"https://gamesdonequick.com/",target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-gamepad")])],1),a("v-btn",{attrs:{title:"節目表",color:"teal",href:"https://gamesdonequick.com/schedule/",target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("far fa-calendar-alt")])],1),a("v-btn",{attrs:{title:"捐款系統",color:"teal",href:"https://gamesdonequick.com/tracker/event/"+t.twJSON["gdq_link"],target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-money-check-alt")])],1),a("v-btn",{attrs:{title:"抽獎獎品",color:"teal",href:"https://gamesdonequick.com/tracker/prizes/"+t.twJSON["gdq_link"],target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-trophy")])],1),a("v-btn",{attrs:{title:"解禁項目",color:"teal",href:"https://gamesdonequick.com/tracker/bids/"+t.twJSON["gdq_link"],target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-gavel")])],1)],1),a("v-flex",{attrs:{xs12:""}},[t._v("其他:")]),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{title:"GDQ VOD",color:"teal",href:"http://gdqvods.com/",target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-video")])],1),a("v-btn",{attrs:{title:"GDQ Stat",color:"teal",href:"http://gdqstat.us/",target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-chart-bar")])],1),a("v-btn",{attrs:{title:"/r/Speedrun",color:"teal",href:"https://www.reddit.com/r/speedrun/",target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fab fa-reddit-alien")])],1),a("v-btn",{attrs:{title:"The Yetee紀念T恤",color:"teal",href:"https://theyetee.com/collections/"+this.twJSON["yetee_link"],target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-tshirt")])],1),a("v-btn",{attrs:{title:"Fangamer紀念品商店",color:"teal",href:"https://www.fangamer.com/collections/games-done-quick",target:"_blank"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-gift")])],1)],1),a("v-flex",{attrs:{xs12:""}},[t._v("功能測試:")]),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{color:"teal",title:"測試鬧鈴"},on:{click:function(e){return t.test()}}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-volume-up")])],1),t.authState?t._e():a("v-btn",{attrs:{"hidden-xs-only":"",title:"Twitch登入",color:"#6441a5",href:"https://crs-dlbot.herokuapp.com/auth/twitch/",target:"_self"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fab fa-twitch")]),a("span",{staticStyle:{"margin-left":"5px",color:"#E0F2F1"}},[t._v("連接Twitch帳號")])],1),t.authState?a("v-btn",{attrs:{"hidden-xs-only":"",title:"Twitch登入",color:"#6441a5",href:"https://crs-dlbot.herokuapp.com/auth/twitch/logout",target:"_self"}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fab fa-twitch")]),a("span",{staticStyle:{"margin-left":"5px",color:"#E0F2F1"}},[t._v("登出")])],1):t._e()],1)],1)],1)],1),a("div",{attrs:{id:"scroll-anchor"}}),a("v-tabs",{staticClass:"sticky sticky--tab",attrs:{grow:"","icons-and-text":"",centered:"",dark:"","background-color":"teal","show-arrows":"","prev-icon":"fas fa-arrow-circle-left","next-icon":"fas fa-arrow-circle-right"},model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},[a("v-tabs-slider",{attrs:{color:"teal lighten-5"}}),t._l(t.dateArr,(function(e,n){return a("v-tab",{key:"slide-"+n,attrs:{href:"#tab-"+n}},[t._v(" "+t._s(t._f("dateformat")(e.date))+" "),a("v-icon",[t._v("far fa-calendar-alt")])],1)}))],2),t.loading?t._e():a("v-layout",{staticClass:"sticky sticky--time slayout",class:{reverse:t.$vuetify.breakpoint.xsOnly},attrs:{wrap:""}},[a("v-flex",{staticClass:"stl",attrs:{xs4:"",sm1:""}},[t._v(" 開始時間 ")]),a("v-flex",{staticClass:"stl",attrs:{xs8:"",sm4:""}},[t._v(" 遊戲名稱 ")]),a("v-flex",{staticClass:"stl",attrs:{"hidden-xs-only":"",sm4:""}},[t._v(" 玩家 ")]),a("v-flex",{staticClass:"stl",attrs:{"hidden-xs-only":"",sm1:""}},[t._v(" 預估時間 ")]),a("v-flex",{staticClass:"stl slast",attrs:{"hidden-xs-only":"",sm2:""}},[t._v(" 規則 ")])],1),a("v-tabs-items",{model:{value:t.tabs,callback:function(e){t.tabs=e},expression:"tabs"}},t._l(t.dateArr,(function(e,n){return a("v-tab-item",{key:"tab-"+t.eventID+"-"+n,attrs:{transition:!1,"reverse-transition":!1,value:"tab-"+n}},[t.loading?t._e():t._l(t.SliceList(n),(function(e){return a("TableRow",{key:e.pk,class:{reverse:t.$vuetify.breakpoint.xsOnly,end:e.starttime.getTime()<t.nowdate.getTime(),now:e.pk===t.sdList[t.nowplaying].pk},scopedSlots:t._u([{key:"startTime",fn:function(){return[a("div",[t._v(t._s(t._f("timeformat")(e.starttime)))])]},proxy:!0},{key:"gameName",fn:function(){return[t._v(" "+t._s(e.name)+" "),e.tw.sr?a("a",{staticClass:"ml-1",attrs:{href:"https://www.speedrun.com/"+e.tw.sr,"aria-label":"Speedrun.com",target:"_blank"}},[a("v-icon",[t._v("fas fa-trophy")])],1):t._e(),e.tw.gm?a("a",{staticClass:"ml-1",attrs:{href:e.tw.gm,target:"_blank","aria-label":"Steam",rel:"noreferrer"}},[a("v-icon",[t._v("fab fa-steam")])],1):t._e()]},proxy:!0},{key:"runner",fn:function(){return[t.isLatestEvent?a("div",{staticClass:"flex wrap"},t._l(t.emoteList,(function(n){return a("v-btn",{key:e.pk+"-emote-"+n,attrs:{"x-small":"",role:"button",depressed:"",color:t.userEmoteObj[e.pk]&&t.userEmoteObj[e.pk]===n?"rgba(50, 50, 100, 0.5)":"rgba(50, 50, 60, 0.3)"},on:{click:function(a){return a.stopPropagation(),t.vote(e.pk,n)}}},[a("img",{staticClass:"emote",attrs:{src:"https://static-cdn.jtvnw.net/emoticons/v1/"+n+"/1.0",alt:"twitch emote"}}),a("span",{staticClass:"emote__count"},[t._v(" "+t._s(t.getEmoteCount(e.pk,n))+" ")])])})),1):[t._v(" "+t._s(e.runners)+" ")]]},proxy:!0},{key:"runTime",fn:function(){return[t._v(" "+t._s(e.run_time)+" ")]},proxy:!0},{key:"category",fn:function(){return[t._v(" "+t._s(e.category)+" ")]},proxy:!0},{key:"console",fn:function(){return[a("div",{staticClass:"hidden-xs-only word-break icon-console",class:"icon-console-"+e.console.replace(" ","").toLowerCase()},[t._v(" "+t._s(e.console)+" ")]),a("v-btn",{key:e.pk+"-expand-"+e.mobileExpand,staticClass:"hidden-sm-and-up",attrs:{icon:""},on:{click:function(t){e.mobileExpand=!e.mobileExpand}}},[e.mobileExpand?a("v-icon",[t._v("fas fa-chevron-up")]):a("v-icon",[t._v("fas fa-chevron-down")])],1)]},proxy:!0},{key:"tw",fn:function(){return[a("div",[t._v(" "+t._s(e.tw.tw)+" "),e.tw.vod?a("a",{staticClass:"ml-1",attrs:{href:"https://www.twitch.tv/videos/"+e.tw.vod,target:"_blank","aria-label":"Twitch VODs",rel:"noreferrer"}},[a("v-icon",[t._v("fab fa-twitch")])],1):t._e(),e.tw.yt?a("a",{staticClass:"ml-1",attrs:{href:"https://www.youtube.com/watch?v="+e.tw.yt,target:"_blank","aria-label":"Youtube VODs",rel:"noreferrer"}},[a("v-icon",[t._v("fab fa-youtube")])],1):t._e()])]},proxy:!0},{key:"runnerList",fn:function(){return[a("v-layout",{attrs:{wrap:"","justify-space-around":""}},t._l(e.runnersArr,(function(e){return a("v-flex",{key:"runner"+n+e,attrs:{xs6:""}},[t.rnList[e]?[t._v(" "+t._s(t.rnList[e].name)+" "),t.rnList[e].stream||t.rnList[e].twitter?[t._v(" : ")]:t._e(),t.rnList[e].stream?a("a",{staticClass:"px-1",attrs:{href:t.rnList[e].stream,target:"_blank","aria-label":"Twitch channel",rel:"noreferrer"}},[a("v-icon",[t._v("fab fa-twitch")])],1):t._e(),t.rnList[e].twitter?a("a",{staticClass:"px-1",attrs:{href:"https://twitter.com/"+t.rnList[e].twitter,target:"_blank","aria-label":"Twitter",rel:"noreferrer"}},[a("v-icon",[t._v("fab fa-twitter")])],1):t._e()]:t._e()],2)})),1)]},proxy:!0},{key:"notification",fn:function(){return[0!==t.sdList.indexOf(e)?[!e.notification&&e.starttime.getTime()>t.nowdate.getTime()?a("v-btn",{attrs:{"aria-label":"enable notification",color:"teal"},on:{click:function(a){t.InsertNotification(t.sdList.indexOf(e))}}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("far fa-bell")])],1):t._e(),e.notification&&e.starttime.getTime()>t.nowdate.getTime()?a("v-btn",{attrs:{"aria-label":"disable notification",color:"pink darken-3"},on:{click:function(a){t.DeleteNotification(t.sdList.indexOf(e))}}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("far fa-bell-slash")])],1):t._e()]:t._e()]},proxy:!0},{key:"mobile",fn:function(){return[e.mobileExpand?a("v-flex",{staticClass:"sbl slast hidden-sm-and-up text-left",attrs:{xs12:""}},[a("v-flex",{attrs:{xs12:"","pa-3":""}},[a("div",{staticClass:"font-weight-bold"},[t._v("跑者")]),t._l(e.runnersArr,(function(e){return a("div",{key:"runner"+n+e,staticClass:"pl-3"},[t.rnList[e]?[t._v(" "+t._s(t.rnList[e].name)+": "),t.rnList[e].stream?a("a",{staticClass:"px-1",attrs:{href:t.rnList[e].stream,target:"_blank"}},[a("v-icon",[t._v("fab fa-twitch")])],1):t._e(),t.rnList[e].twitter?a("a",{staticClass:"px-1",attrs:{href:"https://twitter.com/"+t.rnList[e].twitter,target:"_blank"}},[a("v-icon",[t._v("fab fa-twitter")])],1):t._e()]:t._e()],2)})),a("div",{staticClass:"font-weight-bold"},[t._v("預估時間")]),a("div",{staticClass:"pl-3"},[t._v(t._s(e.run_time))]),a("div",{staticClass:"font-weight-bold"},[t._v("規則")]),a("div",{staticClass:"pl-3"},[t._v(t._s(e.category))]),a("div",{staticClass:"font-weight-bold"},[t._v("遊戲平台")]),a("div",{staticClass:"pl-3"},[t._v(t._s(e.console))]),t.isLatestEvent?a("div",{staticClass:"font-weight-bold"},[t._v("感想")]):t._e(),t.isLatestEvent?a("div",{staticClass:"flex wrap"},t._l(t.emoteList,(function(n){return a("v-btn",{key:e.pk+"-mobile-emote-"+n,attrs:{"x-small":"",depressed:"",color:"rgba(50, 50, 100, 0.5)"},on:{click:function(t){t.stopPropagation()}}},[a("img",{staticClass:"emote",attrs:{src:"https://static-cdn.jtvnw.net/emoticons/v1/"+n+"/1.0"}}),a("span",{staticClass:"emote__count"},[t._v(" "+t._s(t.getEmoteCount(e.pk,n))+" ")])])})),1):t._e()],2)],1):t._e()]},proxy:!0}],null,!0)})}))],2)})),1),t.loading?a("v-layout",[a("v-flex",{staticClass:"px-3 py-5 cardbg",attrs:{xs12:""}},[a("v-progress-circular",{attrs:{size:70,width:7,indeterminate:"",color:"teal"}}),a("v-flex",{staticStyle:{"font-size":"2rem"},attrs:{xs12:""}},[t._v(" 資料讀取中... ")])],1)],1):t._e()],1),a("div",{staticClass:"scrollTop",on:{click:function(e){return e.stopPropagation(),t.scrollToTop()}}},[a("v-icon",{staticStyle:{color:"#E0F2F1"}},[t._v("fas fa-angle-up")])],1),a("updateModal"),a("v-snackbar",{attrs:{left:"",timeout:3e3},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(' 請至"INFO -> 功能測試"，連接Twitch帳號來使用此功能 ')])],1)],1)},c=[],l=(a("7db0"),a("4160"),a("caad"),a("13d5"),a("b0c0"),a("b64b"),a("ac1f"),a("2532"),a("5319"),a("159b"),a("ade3")),u=a("5530"),f=(a("96cf"),a("1da1")),d=a("bc3a"),v=a.n(d),h=30,m={18:"SGDQ2016",19:"AGDQ2017",20:"SGDQ2017",22:"AGDQ2018",23:"SGDQ2018",24:"GDQX2018",25:"AGDQ2019",26:"SGDQ2019",27:"GDQX2019",28:"AGDQ2020",30:"SGDQ2020"},p=[78084,88,245,28087,425618,86,69],g={"MS-DOS":"DOS",Famicom:"FC","Nintendo Entertainment System":"NES","Super Nintendo":"SNES","Super Famicom":"SNES","Sega Genesis":"Genesis",MegaDrive:"MD","Sega Saturn":"Saturn",Dreamcast:"DC","Game Gear":"GG",TG16:"TG-16","TurboGrafx-16":"TG-16","Super Gameboy 2":"SGB",Gameboy:"GB","Game Boy":"GB","Game Boy Color":"GBC","Game Boy Player":"GBPlayer","Gameboy Player (GBI)":"GBPlayer","Game Boy Advance":"GBA","Neo-Geo":"Neo Geo","Nintendo 64":"N64","Nintendo GameCube":"NGC","Nintendo Gamecube":"NGC",Gamecube:"NGC",GC:"NGC","Nintendo Wii":"Wii","Wii U Virtual Console":"Wii U (VC)","Nintendo DS":"NDS","Nintendo 3DS":"3DS","Nintendo New 3DS":"3DS",DS:"NDS","PC Engine":"PCE","PlayStation TV":"PSTV",PSX:"PS1","Playstation 2":"PS2","PlayStation 2":"PS2","Playstation 3":"PS3","Playstation 4":"PS4","PlayStation 4 Pro":"PS4","Playstation 4 Pro":"PS4",Switch:"NS","Nintendo Switch":"NS","Arcade Cabinet (PIU LX Model)":"Arcade"},b={name:"App",components:{twitchPlayer:function(){return a.e("chunk-5804f070").then(a.bind(null,"60d0"))},updateModal:function(){return a.e("chunk-8f0bb992").then(a.bind(null,"9785"))},TableRow:function(){return a.e("chunk-2ad14c4a").then(a.bind(null,"0300"))}},data:function(){return{tabs:0,eventID:null,eventItem:[],twJSON:[],dateArr:[],sdList:[],rnList:[],authState:null,emoteList:p,emoteCountObj:{},userEmoteObj:{},voteWaiting:!1,notification:[],sysNotiSupport:!1,sysNoti:!0,alertitem:[{state:"弱",alerttext:"weak"},{state:"中",alerttext:"medium"},{state:"強",alerttext:"strong"}],alertselect:"weak",nowdate:null,loading:!0,nowplaying:0,snackbar:!1}},watch:{eventID:function(t,e){e&&t&&m[t]&&(this.$refs.eventSelect.blur(),window.scrollTo(0,0),window.history.pushState(null,null,"#".concat(t,"-").concat(m[t])),this.refresh())},nowplaying:function(t){if(this.eventID===h&&this.notification.includes(t)){if(this.notification=this.notification.filter((function(e){return e>=t})),this.DeleteNotification(t),this.sysNotiSupport&&this.sysNoti)new Notification("GDQ中文節目表",{badge:"https://i.imgur.com/3HF5L7V.png",body:"'".concat(this.twJSON[this.sdList[t].pk].tw,"'快開始了！"),icon:this.twJSON.logo});document.getElementById("BaoAlert").load(),document.getElementById("BaoAlert").play()}},sysNoti:function(t){var e=this;if(t)if("granted"!==Notification.permission)Notification.requestPermission().then((function(t){if("granted"===t)new Notification("GDQ中文節目表",{badge:"https://i.imgur.com/3HF5L7V.png",body:"您已開啟桌面通知功能",icon:e.twJSON.logo});else e.sysNoti=!1}));else new Notification("GDQ中文節目表",{badge:"https://i.imgur.com/3HF5L7V.png",body:"您已開啟桌面通知功能",icon:this.twJSON.logo})},tabs:function(){document.getElementById("scroll-anchor").scrollIntoView({behavior:"smooth"})}},computed:{isLatestEvent:function(){return this.eventID===h}},filters:{timeformat:function(t){return"".concat(t.getHours().toString().padStart(2,0),":").concat(t.getMinutes().toString().padStart(2,0))},dateformat:function(t){return"".concat((t.getMonth()+1).toString().padStart(2,0),"/").concat(t.getDate().toString().padStart(2,0))},time:function(t){return t.toString().padStart(2,0)}},methods:{SliceList:function(t){var e=this;return this.sdList.filter((function(a){return a.starttime.getDate()===e.dateArr[t].date.getDate()}))},getPic:function(t){return"Pre-Show"===t||"Preshow"===t||"FINALE"===t||"Finale"===t||"Finale!"===t?this.twJSON.logo:"https://static-cdn.jtvnw.net/ttv-boxart/".concat(t,"-285x380.jpg")},getRequest:function(t){return Object(f["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{cache:"no-cache"}).then((function(t){return t.json()})).catch((function(t){console.log("Error: ",t)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))()},getPage:function(){for(var t=this.tabs;t<this.dateArr.length;t+=1)this.nowdate.getTime()<this.dateArr[0].time?this.tabs="tab-".concat(0):t===this.dateArr.length-1?this.nowdate.getTime()>this.dateArr[t].time&&(this.tabs="tab-".concat(t)):this.nowdate.getTime()>this.dateArr[t].time&&this.nowdate.getTime()<this.dateArr[t+1].time&&(this.tabs="tab-".concat(t))},clock:function(){return this.nowdate=new Date,this.getCurrentGame(),this.getPage(),this.nowdate},setclock:function(){var t=this,e=this.clock(),a=6e4*Math.ceil(e.getTime()/6e4)-e.getTime();setTimeout((function(){t.clock(),setInterval(t.clock,6e4)}),a)},setNotification:function(){this.eventID===h&&(localStorage.getItem("notification")?this.notification=JSON.parse(localStorage.getItem("notification")):(this.notification=[],localStorage.setItem("notification",JSON.stringify(this.notification))))},InsertNotification:function(t){this.notification.push(t),this.sdList[t].notification=!0,this.notification.sort((function(t,e){return t-e})),localStorage.setItem("notification",JSON.stringify(this.notification))},DeleteNotification:function(t){this.notification=this.notification.filter((function(e){return e!==t})),this.sdList[t].notification=!1,localStorage.setItem("notification",JSON.stringify(this.notification))},getCurrentGame:function(){for(var t=this.nowplaying;t<this.sdList.length;t+=1)0===t?this.nowdate.getTime()<this.sdList[t].endtime.getTime()&&(this.nowplaying=t):t===this.sdList.length-1?this.nowdate.getTime()>this.sdList[t].starttime.getTime()&&(this.nowplaying=t):this.nowdate.getTime()>this.sdList[t-1].endtime.getTime()&&this.nowdate.getTime()<this.sdList[t].endtime.getTime()&&(this.nowplaying=t)},getList:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=t.run,s=t.runner,n.forEach((function(t,a){var n=new Date(t.fields.starttime);e.sdList.push({pk:t.pk,name:t.fields.name,console:g[t.fields.console]?g[t.fields.console]:t.fields.console,category:t.fields.category.replace("any%","Any%"),setup_time:t.fields.setup_time,starttime:n,run_time:t.fields.run_time,endtime:new Date(t.fields.endtime),runners:t.fields.deprecated_runners,runnersArr:t.fields.runners,notification:e.notification.includes(a),tw:e.twJSON[t.pk]||"",mobileExpand:!1}),e.dateArr.find((function(t){return t.date.getDate()===n.getDate()}))||e.dateArr.push({date:n,time:n.getTime()})})),s.forEach((function(t){e.rnList[t.pk]=t.fields})),e.loading=!1;case 5:case"end":return a.stop()}}),a)})))()},getAuthandEmote:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://crs-dlbot.herokuapp.com/auth/twitch/check",{withCredentials:!0}).then((function(e){t.authState=e.data.user})).catch((function(){t.authState=null}));case 2:return e.next=4,v.a.get("https://crs-dlbot.herokuapp.com/vote/list").then((function(e){t.emoteCountObj=e.data.data.reduce((function(t,e){return t[e.gid]=Object(u["a"])(Object(u["a"])({},t[e.gid]),{},Object(l["a"])({},e.emote,parseInt(e.ct,10))),t}),{})}));case 4:if(!t.authState){e.next=7;break}return e.next=7,v.a.get("https://crs-dlbot.herokuapp.com/vote/user",{withCredentials:!0}).then((function(e){t.userEmoteObj=e.data.data.reduce((function(t,e){return t[e.gid]=e.emote,t}),{})})).catch((function(){t.authState=null}));case 7:case"end":return e.stop()}}),e)})))()},getJSON:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isLatestEvent&&t.getAuthandEmote(),t.eventID&&m[t.eventID]||(t.eventID=h),t.eventID!==h){e.next=8;break}return e.next=5,t.getRequest("//crs-dlbot.herokuapp.com/gdq");case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,t.getRequest("./event/".concat(t.eventID,".json"));case 10:a=e.sent;case 11:return e.next=13,t.getRequest("./lang/".concat(t.eventID,".json"));case 13:t.twJSON=e.sent,t.getList(a),t.setclock();case 16:case"end":return e.stop()}}),e)})))()},vote:function(t,e){var a=this;this.authState||(this.snackbar=!0),this.userEmoteObj[t]===e||this.voteWaiting||(this.voteWaiting=!0,v.a.post("https://crs-dlbot.herokuapp.com/vote/emote",{game:t,emote:e},{withCredentials:!0}).then((function(){a.emoteCountObj[t]||a.$set(a.emoteCountObj,t,{}),a.emoteCountObj[t][e]||a.$set(a.emoteCountObj[t],e,0),a.userEmoteObj[t]&&a.$set(a.emoteCountObj[t],a.userEmoteObj[t],a.emoteCountObj[t][a.userEmoteObj[t]]-1),a.$set(a.emoteCountObj[t],e,a.emoteCountObj[t][e]+1),a.$set(a.userEmoteObj,t,e)})).catch((function(){a.authState=null})).finally((function(){a.voteWaiting=!1})))},getEmoteCount:function(t,e){return this.emoteCountObj[t]&&this.emoteCountObj[t][e]?this.emoteCountObj[t][e]:0},refresh:function(){this.loading=!0,this.nowplaying=0,this.dateArr.length=0,this.sdList.length=0,this.getJSON()},scrollToTop:function(){window.scrollTo({top:0,behavior:"smooth"})},test:function(){if(this.sysNotiSupport&&this.sysNoti)new Notification("GDQ中文節目表",{badge:"https://i.imgur.com/3HF5L7V.png",body:"這是一則系統桌面通知測試！",icon:this.twJSON.logo});document.getElementById("BaoAlert").load(),document.getElementById("BaoAlert").play()}},created:function(){var t=this;Object.keys(m).forEach((function(e){t.eventItem.push({text:m[e],id:parseInt(e,10)})})),this.eventID=parseInt(window.location.hash.substr(1),10)||h,this.setNotification(),this.getJSON(),Notification&&(this.sysNotiSupport=!0,"granted"!==Notification.permission&&(this.sysNoti=!1))}},w=b,_=(a("5c0b"),a("2877")),y=a("6544"),x=a.n(y),k=a("7496"),S=a("8336"),C=a("b0af"),N=a("99d9"),L=a("a523"),E=a("0e8f"),O=a("132d"),D=a("adda"),T=a("a722"),F=a("490a"),j=a("b974"),G=a("2db4"),P=a("b73d"),A=a("71a3"),I=a("c671"),B=a("fe57"),V=a("aac8"),J=a("9a96"),q=Object(_["a"])(w,o,c,!1,null,null,null),Q=q.exports;x()(q,{VApp:k["a"],VBtn:S["a"],VCard:C["a"],VCardTitle:N["c"],VContainer:L["a"],VFlex:E["a"],VIcon:O["a"],VImg:D["a"],VLayout:T["a"],VProgressCircular:F["a"],VSelect:j["a"],VSnackbar:G["a"],VSwitch:P["a"],VTab:A["a"],VTabItem:I["a"],VTabs:B["a"],VTabsItems:V["a"],VTabsSlider:J["a"]});var M=a("9483");Object(M["a"])("./service-worker.js",{ready:function(){console.log("App is being served from cache by a service worker.\n For more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(t){console.log("New content is available; please refresh."),document.dispatchEvent(new CustomEvent("swUpdated",{detail:t}))},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["a"].config.productionTip=!1,n["a"].use(s["a"]),new n["a"]({vuetify:r,render:function(t){return t(Q)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),s=a.n(n);s.a},"9c0c":function(t,e,a){}});
//# sourceMappingURL=app.e230f044.js.map